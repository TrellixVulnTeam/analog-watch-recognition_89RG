schema: '2.0'
stages:
  download-images:
    cmd: python scripts/download-images.py datasets/watch-faces.json
    deps:
    - path: datasets/watch-faces.json
      md5: 3ade6f507792ef3d3ad6d2e4ed083c20
      size: 3105
    - path: scripts/download-images.py
      md5: 163a2ddbebf57d03fc4ac6640fff005b
      size: 1804
    outs:
    - path: datasets/test
      md5: c316cc0b182e5924a1f5bb8820cd87b8.dir
      size: 6465792
      nfiles: 2
    - path: datasets/train
      md5: 30e90e50ccb58663b4630a6b353c7227.dir
      size: 24166019
      nfiles: 36
    - path: datasets/val
      md5: 925b466cd67b6fd4351e4107217ce7d0.dir
      size: 511575
      nfiles: 4
    - path: datasets/watch-faces-local.json
      md5: 5a129af584e7029d0b52d748758794b1
      size: 3082
  train-detector:
    cmd: python watch_recognition/watch_recognition/train/object_detection_task.py
      --epochs 100 --batch-size 4 --seed 42
    deps:
    - path: datasets/test
      md5: c316cc0b182e5924a1f5bb8820cd87b8.dir
      size: 6465792
      nfiles: 2
    - path: datasets/train
      md5: 30e90e50ccb58663b4630a6b353c7227.dir
      size: 24166019
      nfiles: 36
    - path: datasets/val
      md5: 925b466cd67b6fd4351e4107217ce7d0.dir
      size: 511575
      nfiles: 4
    - path: datasets/watch-faces-local.json
      md5: e25cc9842a8699ffc5224948c1f372ed
      size: 26526
    - path: watch_recognition/watch_recognition/train/object_detection_task.py
      md5: 745c27ea88bb198362030ff8353a153c
      size: 32713
    params:
      params.yaml:
        detector.batch-size: 4
        detector.epochs: 100
        seed: 42
    outs:
    - path: metrics/detector.json
      md5: 1341a4754630dbfcc46b99715c351cfc
      size: 132
    - path: metrics/detector/scalars
      md5: 97689eeaffc714f157e33ef3984a11ef.dir
      size: 7478
      nfiles: 2
    - path: models/detector/
      md5: a97fbe50867ccf42118097aed1b624cc.dir
      size: 444657501
      nfiles: 4
  eval-detector:
    cmd: python watch_recognition/watch_recognition/eval/object_detection_eval.py
    deps:
    - path: models/detector/
      md5: a97fbe50867ccf42118097aed1b624cc.dir
      size: 444657501
      nfiles: 4
    - path: watch_recognition/watch_recognition/eval/object_detection_eval.py
      md5: fbe07b82557dce343076adf40b901016
      size: 4573
    outs:
    - path: example_predictions/
      md5: 0603f8561734fae3f45b547291d8ccb0.dir
      size: 1069477
      nfiles: 9
    - path: metrics/coco_train.json
      md5: 3e3bcb98ab957b80a18627f020a4fd5c
      size: 245
    - path: metrics/coco_val.json
      md5: 8c0324fdd216c709c36b4a26052068e0
      size: 206
