schema: '2.0'
stages:
  download-images:
    cmd: python scripts/download-images.py datasets/watch-faces.json
    deps:
    - path: datasets/watch-faces.json
      md5: 1d03123e19b5fcdcb9ee6f452e3869f7
      size: 146322
    - path: scripts/download-images.py
      md5: 163a2ddbebf57d03fc4ac6640fff005b
      size: 1804
    outs:
    - path: datasets/test
      md5: c316cc0b182e5924a1f5bb8820cd87b8.dir
      size: 6465792
      nfiles: 2
    - path: datasets/train
      md5: 30e90e50ccb58663b4630a6b353c7227.dir
      size: 24166019
      nfiles: 36
    - path: datasets/val
      md5: 925b466cd67b6fd4351e4107217ce7d0.dir
      size: 511575
      nfiles: 4
    - path: datasets/watch-faces-local.json
      md5: e197c9b76435b67de879087d46b35d29
      size: 145494
  train-detector:
    cmd: python watch_recognition/watch_recognition/train/object_detection_task.py
      --epochs 100 --batch-size 4 --seed 42
    deps:
    - path: datasets/test
      md5: c316cc0b182e5924a1f5bb8820cd87b8.dir
      size: 6465792
      nfiles: 2
    - path: datasets/train
      md5: 30e90e50ccb58663b4630a6b353c7227.dir
      size: 24166019
      nfiles: 36
    - path: datasets/val
      md5: 925b466cd67b6fd4351e4107217ce7d0.dir
      size: 511575
      nfiles: 4
    - path: datasets/watch-faces-local.json
      md5: e197c9b76435b67de879087d46b35d29
      size: 145494
    - path: watch_recognition/watch_recognition/train/object_detection_task.py
      md5: 8ced8df7591852eac4572c6f1b02f4f4
      size: 31944
    params:
      params.yaml:
        detector.batch-size: 4
        detector.epochs: 100
        seed: 42
    outs:
    - path: example_predictions/train/
      md5: fe59205101c975bd1a58b881aaf06322.dir
      size: 132025
      nfiles: 1
    - path: metrics/detector.json
      md5: afff116c71097528f1f66cfba7d3cdab
      size: 132
    - path: metrics/detector/scalars
      md5: 6435cc135dfcd8bd902b63fbb4d3c83f.dir
      size: 7476
      nfiles: 2
    - path: models/detector/
      md5: 01b75a7b4b6adea5ffb5bb5b36cd12be.dir
      size: 153528239
      nfiles: 4
  eval-detector:
    cmd: python watch_recognition/watch_recognition/eval/object_detection_eval.py
    deps:
    - path: models/detector/
      md5: 01b75a7b4b6adea5ffb5bb5b36cd12be.dir
      size: 153528239
      nfiles: 4
    - path: watch_recognition/watch_recognition/eval/object_detection_eval.py
      md5: 6bc0ceb2a610f93b3ede55624601beed
      size: 4638
    outs:
    - path: example_predictions/eval
      md5: 892f69bd79781d1e1bc0d4f5f69f412d.dir
      size: 1345493
      nfiles: 9
    - path: metrics/detector/coco_train.json
      md5: 4b7458a7abc008321e5111462a8a3b15
      size: 231
    - path: metrics/detector/coco_val.json
      md5: c72944fd5211d44611370a883a31c03d
      size: 206
